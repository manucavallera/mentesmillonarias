<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crea tu tienda gratis - JadeShop</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Google Fonts - Premium -->
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&family=Poppins:wght@300;400;500;600;700;800&family=Cormorant+Garamond:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        /* Mentes Millonarias - Gold Palette */
        --gold-primary: #d4af37;
        --gold-light: #f4e5b2;
        --gold-dark: #aa8a2e;
        --gold-metallic: #cfb53b;

        /* Dark Luxury Background */
        --dark-primary: #0a0a0a;
        --dark-secondary: #1a1a1a;
        --dark-tertiary: #2a2a2a;

        /* Accent Colors */
        --platinum: #e5e4e2;
        --champagne: #f7e7ce;
        --bronze: #cd7f32;
        --rose-gold: #b76e79;

        /* Typography */
        --font-display: "Playfair Display", serif;
        --font-body: "Poppins", sans-serif;
        --font-accent: "Cormorant Garamond", serif;

        /* JadeBro Compatibility */
        --jadebro-primary: #d4af37;
        --jadebro-secondary: #cfb53b;
      }

      * {
        font-family: var(--font-body);
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: var(--font-display);
      }

      body {
        background: linear-gradient(
          135deg,
          var(--dark-primary) 0%,
          var(--dark-secondary) 100%
        );
        min-height: 100vh;
        padding: 2rem 0;
        position: relative;
        overflow-x: hidden;
      }

      /* Pattern Background */
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
            45deg,
            transparent 48%,
            rgba(212, 175, 55, 0.03) 49%,
            rgba(212, 175, 55, 0.03) 51%,
            transparent 52%
          ),
          linear-gradient(
            -45deg,
            transparent 48%,
            rgba(212, 175, 55, 0.03) 49%,
            rgba(212, 175, 55, 0.03) 51%,
            transparent 52%
          );
        background-size: 60px 60px;
        z-index: 0;
        pointer-events: none;
      }

      .main-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
        position: relative;
        z-index: 10;
      }

      /* ========== STEP INDICATOR ========== */
      .step-header {
        text-align: center;
        color: var(--platinum);
        margin-bottom: 3rem;
      }

      .step-header h1 {
        background: linear-gradient(
          135deg,
          var(--gold-light),
          var(--gold-primary),
          var(--gold-dark)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: none;
        filter: drop-shadow(0 0 30px rgba(212, 175, 55, 0.3));
      }

      .step-indicator {
        display: flex;
        justify-content: center;
        margin-bottom: 2rem;
      }

      .step {
        display: flex;
        align-items: center;
        color: rgba(229, 228, 226, 0.5);
        transition: all 0.3s ease;
      }

      .step.active {
        color: var(--gold-primary);
      }

      .step-number {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: rgba(42, 42, 42, 0.8);
        border: 2px solid rgba(212, 175, 55, 0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 1rem;
        font-weight: 700;
        font-family: var(--font-display);
        transition: all 0.3s ease;
      }

      .step.active .step-number {
        background: linear-gradient(
          135deg,
          var(--gold-primary),
          var(--gold-metallic)
        );
        border-color: var(--gold-primary);
        color: var(--dark-primary);
        box-shadow: 0 10px 30px rgba(212, 175, 55, 0.5);
      }

      /* ========== PLAN CARDS ========== */
      .plan-card {
        background: linear-gradient(
          145deg,
          rgba(26, 26, 26, 0.95),
          rgba(42, 42, 42, 0.9)
        );
        border: 2px solid rgba(212, 175, 55, 0.2);
        border-radius: 24px;
        padding: 2rem;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
        height: 100%;
      }

      .plan-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(
          90deg,
          var(--gold-primary),
          var(--gold-metallic),
          var(--gold-primary)
        );
        background-size: 200% 100%;
        animation: shimmer-border 3s linear infinite;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      @keyframes shimmer-border {
        0% {
          background-position: -200% 0;
        }
        100% {
          background-position: 200% 0;
        }
      }

      .plan-card:hover::before,
      .plan-card.selected::before {
        opacity: 1;
      }

      .plan-card:hover {
        transform: translateY(-8px);
        border-color: var(--gold-primary);
        box-shadow: 0 25px 60px rgba(0, 0, 0, 0.6),
          0 0 80px rgba(212, 175, 55, 0.3);
      }

      .plan-card.selected {
        border: 3px solid var(--gold-primary);
        background: linear-gradient(
          145deg,
          rgba(42, 42, 42, 0.98),
          rgba(26, 26, 26, 0.95)
        );
        box-shadow: 0 30px 70px rgba(0, 0, 0, 0.6),
          0 0 100px rgba(212, 175, 55, 0.4);
      }

      .plan-card h4 {
        font-weight: 700;
        color: var(--gold-primary);
        text-align: center;
        margin-bottom: 1.5rem;
        font-size: 1.5rem;
      }

      .plan-price {
        font-size: 2.5rem;
        font-weight: 800;
        font-family: var(--font-display);
        background: linear-gradient(
          135deg,
          var(--gold-light),
          var(--gold-primary)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin: 1rem 0;
        text-align: center;
      }

      .plan-price.jadebro {
        background: linear-gradient(
          135deg,
          var(--gold-light),
          var(--gold-primary),
          var(--gold-dark)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .plan-card ul {
        list-style: none;
        padding: 0;
        color: var(--platinum);
      }

      .plan-card ul li {
        padding: 0.5rem 0;
        font-size: 0.95rem;
      }

      .plan-card ul li i {
        color: var(--gold-primary);
        margin-right: 0.5rem;
      }

      .plan-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        background: linear-gradient(
          135deg,
          var(--gold-primary),
          var(--gold-metallic)
        );
        color: var(--dark-primary);
        font-weight: 700;
        padding: 0.5rem 1rem;
        border-radius: 50px;
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        box-shadow: 0 5px 20px rgba(212, 175, 55, 0.4);
      }

      /* ========== REGISTRATION CARD ========== */
      .registration-card {
        background: linear-gradient(
          145deg,
          rgba(26, 26, 26, 0.95),
          rgba(42, 42, 42, 0.9)
        );
        border: 2px solid rgba(212, 175, 55, 0.3);
        border-radius: 24px;
        box-shadow: 0 30px 80px rgba(0, 0, 0, 0.5);
        overflow: hidden;
        backdrop-filter: blur(10px);
        position: relative;
      }

      .registration-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 5px;
        background: linear-gradient(
          90deg,
          var(--gold-primary),
          var(--gold-metallic),
          var(--gold-primary)
        );
        background-size: 200% 100%;
        animation: shimmer-border 3s linear infinite;
      }

      .header-section {
        background: linear-gradient(
          135deg,
          rgba(42, 42, 42, 0.9),
          rgba(26, 26, 26, 0.9)
        );
        padding: 2rem;
        border-bottom: 1px solid rgba(212, 175, 55, 0.2);
      }

      .header-section h2 {
        background: linear-gradient(
          135deg,
          var(--gold-light),
          var(--gold-primary)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 0.5rem;
      }

      .form-section {
        padding: 2rem;
      }

      .form-label {
        color: var(--champagne);
        font-weight: 500;
        margin-bottom: 0.5rem;
      }

      .form-control,
      .form-select {
        background: rgba(42, 42, 42, 0.8);
        border: 1px solid rgba(212, 175, 55, 0.3);
        color: var(--platinum);
        padding: 0.75rem 1rem;
        border-radius: 12px;
        transition: all 0.3s ease;
      }

      .form-control:focus,
      .form-select:focus {
        background: rgba(42, 42, 42, 0.95);
        border-color: var(--gold-primary);
        box-shadow: 0 0 0 0.2rem rgba(212, 175, 55, 0.25);
        color: var(--platinum);
      }

      .form-control::placeholder {
        color: rgba(229, 228, 226, 0.5);
      }

      /* ========== BUTTONS ========== */
      .btn-create,
      .btn-continue {
        background: linear-gradient(
          135deg,
          var(--gold-primary) 0%,
          var(--gold-metallic) 100%
        );
        border: 2px solid var(--gold-primary);
        color: var(--dark-primary);
        font-weight: 700;
        padding: 1rem 3rem;
        border-radius: 50px;
        text-transform: uppercase;
        letter-spacing: 2px;
        font-size: 1rem;
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
        box-shadow: 0 10px 40px rgba(212, 175, 55, 0.4);
      }

      .btn-create::before,
      .btn-continue::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
      }

      .btn-create:hover,
      .btn-continue:hover {
        transform: translateY(-3px) scale(1.02);
        box-shadow: 0 15px 50px rgba(212, 175, 55, 0.6);
        color: var(--dark-primary);
        border-color: var(--gold-light);
      }

      .btn-create:hover::before,
      .btn-continue:hover::before {
        width: 300px;
        height: 300px;
      }

      .btn-outline-secondary {
        background: transparent;
        border: 2px solid rgba(212, 175, 55, 0.5);
        color: var(--gold-primary);
        font-weight: 600;
        padding: 0.75rem 2rem;
        border-radius: 50px;
        transition: all 0.3s ease;
      }

      .btn-outline-secondary:hover {
        background: rgba(212, 175, 55, 0.1);
        border-color: var(--gold-primary);
        color: var(--gold-light);
      }

      /* ========== SELECTED PLAN INFO ========== */
      .selected-plan-info {
        background: rgba(42, 42, 42, 0.8);
        border-radius: 16px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        border-left: 4px solid var(--gold-primary);
        border: 2px solid rgba(212, 175, 55, 0.3);
      }

      .selected-plan-info h5 {
        color: var(--gold-primary);
        margin-bottom: 0.5rem;
      }

      .selected-plan-info p {
        color: var(--platinum);
        margin: 0;
      }

      /* ========== FEATURE BADGES ========== */
      .feature-badge {
        background: rgba(212, 175, 55, 0.2);
        color: var(--champagne);
        padding: 0.35rem 1rem;
        border-radius: 50px;
        font-size: 0.875rem;
        margin: 0.25rem;
        display: inline-block;
        border: 1px solid rgba(212, 175, 55, 0.3);
      }

      /* ========== FORM CHECK ========== */
      .form-check-input {
        background-color: rgba(42, 42, 42, 0.8);
        border-color: rgba(212, 175, 55, 0.5);
      }

      .form-check-input:checked {
        background-color: var(--gold-primary);
        border-color: var(--gold-primary);
      }

      .form-check-label {
        color: var(--platinum);
      }

      .form-check-label a {
        color: var(--gold-primary);
        text-decoration: none;
      }

      .form-check-label a:hover {
        color: var(--gold-light);
        text-decoration: underline;
      }

      /* ========== UTILITIES ========== */
      .hidden {
        display: none !important;
      }

      .text-muted {
        color: rgba(229, 228, 226, 0.6) !important;
      }

      .jadebro-gradient {
        background: linear-gradient(
          135deg,
          var(--gold-primary),
          var(--gold-metallic)
        );
        color: var(--dark-primary);
      }

      /* ========== SCROLLBAR ========== */
      ::-webkit-scrollbar {
        width: 12px;
      }

      ::-webkit-scrollbar-track {
        background: var(--dark-primary);
      }

      ::-webkit-scrollbar-thumb {
        background: linear-gradient(
          180deg,
          var(--gold-primary),
          var(--gold-dark)
        );
        border-radius: 10px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(
          180deg,
          var(--gold-light),
          var(--gold-primary)
        );
      }

      /* ========== RESPONSIVE ========== */
      @media (max-width: 768px) {
        body {
          padding: 1rem 0;
        }

        .main-container {
          padding: 0 0.75rem;
        }

        .step-indicator {
          margin-bottom: 1.5rem;
          flex-wrap: wrap;
          gap: 0.5rem;
        }

        .step {
          font-size: 14px;
        }

        .step-number {
          width: 40px;
          height: 40px;
          font-size: 14px;
          margin-right: 0.5rem;
        }

        .step span {
          display: none;
        }

        .step-header h1 {
          font-size: 2rem;
          margin-bottom: 1rem;
        }

        .step-header p {
          font-size: 1rem;
        }

        .plan-card {
          padding: 1.25rem;
          margin-bottom: 1rem;
        }

        .plan-card h4 {
          font-size: 1.25rem;
        }

        .plan-price {
          font-size: 1.75rem;
        }

        .btn-continue,
        .btn-create {
          padding: 0.875rem 2rem;
          font-size: 0.95rem;
          width: 100%;
        }

        .registration-card {
          margin: 0 -0.75rem;
          border-radius: 16px;
        }

        .header-section {
          padding: 1.5rem 1rem;
        }

        .form-section {
          padding: 1.5rem 1rem;
        }
      }

      @media (max-width: 576px) {
        .step-header h1 {
          font-size: 1.75rem;
        }

        .plan-price {
          font-size: 1.5rem;
        }

        .plan-card ul {
          font-size: 13px;
        }

        .header-section h2 {
          font-size: 1.35rem;
        }
      }
    </style>
  </head>

  <body>
    <div class="main-container">
      <!-- Step Indicator -->
      <div class="step-indicator">
        <div class="step active" id="stepPlan">
          <div class="step-number">1</div>
          <span>Elegir Plan</span>
        </div>
        <div class="mx-3" style="color: var(--gold-primary)">‚Üí</div>
        <div class="step" id="stepInfo">
          <div class="step-number">2</div>
          <span>Informaci√≥n</span>
        </div>
      </div>

      <!-- PASO 1: SELECCI√ìN DE PLAN -->
      <div id="planSelection">
        <div class="step-header">
          <h1 class="display-4 fw-bold mb-3">Elige tu plan perfecto</h1>
          <p class="fs-5" style="color: var(--champagne)">
            Empieza gratis y evoluciona tu negocio con planes que se adaptan a
            ti
          </p>
        </div>

        <div class="row g-4">
          <!-- Plan Gratis -->
          <div class="col-lg-3 col-md-6">
            <div class="plan-card" data-plan="gratis">
              <h4 class="fw-bold"><i class="fas fa-gift me-2"></i>Empezar</h4>
              <div class="plan-price">GRATIS</div>
              <p class="text-center text-muted">Para probar</p>

              <ul class="list-unstyled mt-4">
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Hasta 10 productos
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Carrito de compras
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Integraci√≥n WhatsApp
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Control stock b√°sico
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Subdominio jadeshop.live
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Soporte por email
                </li>
              </ul>
            </div>
          </div>

          <!-- Plan Pro -->
          <div class="col-lg-3 col-md-6">
            <div class="plan-card" data-plan="pro">
              <span class="plan-badge">POPULAR</span>
              <h4 class="fw-bold"><i class="fas fa-star me-2"></i>Pro</h4>
              <div class="plan-price">
                $30.000
                <small
                  class="d-block"
                  style="font-size: 0.4em; color: var(--platinum)"
                  >ARS/mes</small
                >
                <small class="d-block text-muted" style="font-size: 0.35em"
                  >‚âà USD $19</small
                >
              </div>

              <ul class="list-unstyled mt-4">
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Productos ilimitados
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Automatizaci√≥n WhatsApp
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Dominio personalizado
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Analytics avanzados
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Gesti√≥n de stock completa
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Integraci√≥n TikTok Live
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Personalizaci√≥n de dise√±o
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Soporte prioritario
                </li>
              </ul>
            </div>
          </div>

          <!-- Plan JadeBro IA -->
          <div class="col-lg-3 col-md-6">
            <div class="plan-card" data-plan="jadebro">
              <span
                class="plan-badge"
                style="
                  background: linear-gradient(
                    135deg,
                    var(--gold-light),
                    var(--gold-primary)
                  );
                "
              >
                <i class="fas fa-crown me-1"></i>DESTACADO
              </span>
              <h4 class="fw-bold">
                <i class="fas fa-robot me-2"></i>JadeBro IA
              </h4>
              <div class="plan-price jadebro">
                $60.000
                <small
                  class="d-block"
                  style="font-size: 0.4em; color: var(--platinum)"
                  >ARS/mes</small
                >
                <small class="d-block text-muted" style="font-size: 0.35em"
                  >‚âà USD $38</small
                >
              </div>

              <ul class="list-unstyled mt-4">
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Todo del plan Pro
                </li>
                <li class="mb-2">
                  <i class="fas fa-robot me-2"></i
                  ><strong>JadeBro IA 24/7</strong>
                </li>
                <li class="mb-2">
                  <i class="fas fa-comments me-2"></i>Respuestas autom√°ticas
                </li>
                <li class="mb-2">
                  <i class="fas fa-brain me-2"></i>Panel IA completo
                </li>
                <li class="mb-2">
                  <i class="fas fa-chart-line me-2"></i>Analytics predictivos
                </li>
                <li class="mb-2">
                  <i class="fas fa-bullhorn me-2"></i>Sugerencias autom√°ticas
                </li>
                <li class="mb-2">
                  <i class="fas fa-cart-arrow-down me-2"></i>Recuperaci√≥n
                  carritos
                </li>
                <li class="mb-2">
                  <i class="fas fa-headset me-2"></i>Soporte premium
                </li>
              </ul>
            </div>
          </div>

          <!-- Plan JadeBro MAX -->
          <div class="col-lg-3 col-md-6">
            <div class="plan-card" data-plan="jadebro-max">
              <span class="plan-badge">EMPRESARIAL</span>
              <h4 class="fw-bold">
                <i class="fas fa-rocket me-2"></i>JadeBro MAX
              </h4>
              <div class="plan-price jadebro">
                $140.000
                <small
                  class="d-block"
                  style="font-size: 0.4em; color: var(--platinum)"
                  >ARS/mes</small
                >
                <small class="d-block text-muted" style="font-size: 0.35em"
                  >‚âà USD $90</small
                >
              </div>

              <ul class="list-unstyled mt-4">
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Todo PRO + IA + OmniCanal
                </li>
                <li class="mb-2">
                  <i class="fas fa-robot me-2"></i
                  ><strong>JadeBro IA 24/7</strong>
                </li>
                <li class="mb-2">
                  <i class="fas fa-comments me-2"></i>WhatsApp + IG + FB
                </li>
                <li class="mb-2">
                  <i class="fas fa-users me-2"></i>Plan TEAM multiusuario
                </li>
                <li class="mb-2">
                  <i class="fas fa-brain me-2"></i>IA avanzada
                </li>
                <li class="mb-2">
                  <i class="fas fa-chart-line me-2"></i>Anal√≠ticas empresariales
                </li>
                <li class="mb-2">
                  <i class="fas fa-cogs me-2"></i>CRM Integrado
                </li>
                <li class="mb-2">
                  <i class="fas fa-phone me-2"></i>Soporte dedicado
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="text-center mt-5">
          <button class="btn btn-continue" id="continueToInfo" disabled>
            <i class="fas fa-arrow-right me-2"></i>Continuar
          </button>
          <p class="text-muted mt-3">Selecciona un plan para continuar</p>
        </div>
      </div>

      <!-- PASO 2: INFORMACI√ìN DE REGISTRO -->
      <div id="registrationForm" class="hidden">
        <div class="registration-card">
          <div class="header-section text-center">
            <h2 class="mb-2">
              <i class="fas fa-user-plus me-2"></i>Completa tu informaci√≥n
            </h2>
            <p class="text-muted">
              Est√°s a un paso de crear tu tienda online profesional
            </p>
          </div>

          <div class="form-section">
            <!-- Plan seleccionado -->
            <div class="selected-plan-info">
              <h5 class="mb-2">
                <i class="fas fa-check-circle me-2"></i>Plan seleccionado
              </h5>
              <p id="selectedPlanDisplay" class="mb-1"></p>
              <button
                class="btn btn-outline-secondary btn-sm mt-2"
                id="changePlan"
              >
                <i class="fas fa-exchange-alt me-2"></i>Cambiar plan
              </button>
            </div>

            <form id="registrationFormElement">
              <div class="row g-3">
                <!-- Nombre del comercio -->
                <div class="col-12">
                  <label class="form-label">
                    <i class="fas fa-store me-2"></i>Nombre del comercio
                  </label>
                  <input
                    type="text"
                    class="form-control"
                    id="nombreComercio"
                    placeholder="Nombre de mi comercio"
                    required
                  />
                  <small class="text-muted">
                    Este ser√° el nombre visible de tu tienda
                  </small>
                </div>

                <!-- Nombre de usuario (slug) -->
                <div class="col-12">
                  <label class="form-label">
                    <i class="fas fa-link me-2"></i>Nombre de usuario (URL)
                  </label>
                  <input
                    type="text"
                    class="form-control"
                    id="nombreUsuario"
                    placeholder="mi-tienda"
                    required
                    pattern="[a-z0-9\-]+"
                    title="Solo letras min√∫sculas, n√∫meros y guiones"
                  />
                  <small class="text-muted">
                    Tu tienda ser√°:
                    <strong
                      >jadeshop.live/<span id="slugPreview"
                        >mi-tienda</span
                      ></strong
                    >
                  </small>
                </div>

                <!-- Rubro del comercio -->
                <div class="col-md-6">
                  <label class="form-label">
                    <i class="fas fa-tag me-2"></i>Rubro del comercio
                  </label>
                  <select class="form-select" id="rubroComercio" required>
                    <option value="">Seleccione una categor√≠a</option>
                    <option value="Ropa y Accesorios">Ropa y Accesorios</option>
                    <option value="Electr√≥nicos">Electr√≥nicos</option>
                    <option value="Hogar y Jard√≠n">Hogar y Jard√≠n</option>
                    <option value="Deportes y Fitness">
                      Deportes y Fitness
                    </option>
                    <option value="Belleza y Cuidado Personal">
                      Belleza y Cuidado Personal
                    </option>
                    <option value="Libros y Educaci√≥n">
                      Libros y Educaci√≥n
                    </option>
                    <option value="Juguetes y Beb√©s">Juguetes y Beb√©s</option>
                    <option value="Automotriz">Automotriz</option>
                    <option value="Alimentos y Bebidas">
                      Alimentos y Bebidas
                    </option>
                    <option value="Arte y Manualidades">
                      Arte y Manualidades
                    </option>
                    <option value="Otro">Otro</option>
                  </select>
                </div>

                <!-- Pa√≠s -->
                <div class="col-md-6">
                  <label class="form-label">
                    <i class="fas fa-globe me-2"></i>Pa√≠s
                  </label>
                  <select class="form-select" id="pais" required>
                    <option value="">Selecciona tu pa√≠s</option>
                    <option value="Argentina" selected>üá¶üá∑ Argentina</option>
                    <option value="M√©xico">üá≤üáΩ M√©xico</option>
                    <option value="Colombia">üá®üá¥ Colombia</option>
                    <option value="Per√∫">üáµüá™ Per√∫</option>
                    <option value="Chile">üá®üá± Chile</option>
                    <option value="Uruguay">üá∫üáæ Uruguay</option>
                    <option value="Bolivia">üáßüá¥ Bolivia</option>
                    <option value="Espa√±a">üá™üá∏ Espa√±a</option>
                    <option value="Estados Unidos">üá∫üá∏ Estados Unidos</option>
                    <option value="Otro">üåç Otro</option>
                  </select>
                </div>

                <!-- WhatsApp (con c√≥digo de pa√≠s) -->
                <div class="col-12">
                  <label class="form-label">
                    <i class="fab fa-whatsapp me-2"></i>WhatsApp donde recibir√°s
                    pedidos
                  </label>
                  <div class="input-group">
                    <select
                      class="form-select"
                      id="codigoPais"
                      style="max-width: 130px"
                    >
                      <option value="+54" selected>üá¶üá∑ +54</option>
                      <option value="+1">üá∫üá∏ +1</option>
                      <option value="+52">üá≤üáΩ +52</option>
                      <option value="+57">üá®üá¥ +57</option>
                      <option value="+51">üáµüá™ +51</option>
                      <option value="+56">üá®üá± +56</option>
                      <option value="+598">üá∫üáæ +598</option>
                      <option value="+591">üáßüá¥ +591</option>
                      <option value="+34">üá™üá∏ +34</option>
                    </select>
                    <input
                      type="tel"
                      class="form-control"
                      id="whatsappComercio"
                      placeholder="1144440000"
                      required
                    />
                  </div>
                  <small class="text-muted"
                    >Incluye c√≥digo de √°rea sin 0 ni 15</small
                  >
                </div>

                <!-- Email -->
                <div class="col-md-6">
                  <label class="form-label">
                    <i class="fas fa-envelope me-2"></i>Email
                  </label>
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    placeholder="tu@email.com"
                    required
                  />
                </div>

                <!-- Contrase√±a -->
                <div class="col-md-6">
                  <label class="form-label">
                    <i class="fas fa-lock me-2"></i>Contrase√±a
                  </label>
                  <input
                    type="password"
                    class="form-control"
                    id="password"
                    placeholder="M√≠nimo 6 caracteres"
                    minlength="6"
                    required
                  />
                </div>

                <!-- Confirmar contrase√±a -->
                <div class="col-12">
                  <label class="form-label">
                    <i class="fas fa-lock me-2"></i>Confirmar contrase√±a
                  </label>
                  <input
                    type="password"
                    class="form-control"
                    id="confirmPassword"
                    placeholder="Repite tu contrase√±a"
                    minlength="6"
                    required
                  />
                </div>

                <!-- T√©rminos y condiciones -->
                <div class="col-12">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="terminos"
                      required
                    />
                    <label class="form-check-label" for="terminos">
                      Acepto los
                      <a href="#" style="color: var(--gold-primary)"
                        >t√©rminos y condiciones</a
                      >
                      y la
                      <a href="#" style="color: var(--gold-primary)"
                        >pol√≠tica de privacidad</a
                      >
                    </label>
                  </div>
                </div>

                <!-- Botones -->
                <div class="col-12">
                  <div
                    class="d-grid gap-2 d-md-flex justify-content-md-between"
                  >
                    <button
                      type="button"
                      class="btn btn-outline-secondary"
                      id="backToPlan"
                    >
                      <i class="fas fa-arrow-left me-2"></i>Volver
                    </button>
                    <button type="submit" class="btn btn-create">
                      <i class="fas fa-rocket me-2"></i>Crear mi tienda
                    </button>
                  </div>
                </div>
              </div>

              <!-- Campo oculto para el plan -->
              <input type="hidden" id="selectedPlan" name="plan" />
            </form>
          </div>

          <div
            class="text-center"
            style="padding: 2rem; border-top: 1px solid rgba(212, 175, 55, 0.2)"
          >
            <p class="text-muted mb-0">
              ¬øYa tienes una cuenta?
              <a
                href="/login"
                style="color: var(--gold-primary); text-decoration: none"
              >
                Inicia sesi√≥n aqu√≠
              </a>
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JS - FUNCIONALIDAD COMPLETA -->
    <script>
      let selectedPlan = null;

      // Plan selection
      document.querySelectorAll(".plan-card").forEach((card) => {
        card.addEventListener("click", function () {
          document
            .querySelectorAll(".plan-card")
            .forEach((c) => c.classList.remove("selected"));
          this.classList.add("selected");
          selectedPlan = this.dataset.plan;
          document.getElementById("continueToInfo").disabled = false;
        });
      });

      // Continue to registration OR Mercado Pago
      document
        .getElementById("continueToInfo")
        .addEventListener("click", function () {
          if (!selectedPlan) return;

          // Links de Mercado Pago para planes de pago
          const mercadoPagoLinks = {
            pro: "https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_plan_id=7d05725ee7cd4bfeb9e51950064053ad",
            jadebro:
              "https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_plan_id=d9ce22909da241fa9685a78ef02621ff",
            "jadebro-max":
              "https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_plan_id=22850705be3744a1b6f001eb9ec87030",
          };

          // Si NO es plan gratis, redirigir a Mercado Pago directamente
          if (selectedPlan !== "gratis") {
            window.location.href = mercadoPagoLinks[selectedPlan];
            return;
          }

          // Si es plan gratis, mostrar formulario de registro
          document.getElementById("planSelection").classList.add("hidden");
          document
            .getElementById("registrationForm")
            .classList.remove("hidden");

          // Update step indicator
          document.getElementById("stepPlan").classList.remove("active");
          document.getElementById("stepInfo").classList.add("active");

          // Update selected plan display
          const planNames = {
            gratis: "Plan Gratis",
            pro: "Plan Pro - $30.000 ARS/mes",
            jadebro: "JadeBro IA - $60.000 ARS/mes",
            "jadebro-max": "JadeBro MAX - $140.000 ARS/mes",
          };
          document.getElementById("selectedPlanDisplay").textContent =
            planNames[selectedPlan];

          // Scroll to top
          window.scrollTo({ top: 0, behavior: "smooth" });
        });

      // Back to plan selection
      document
        .getElementById("backToPlan")
        .addEventListener("click", function () {
          document.getElementById("registrationForm").classList.add("hidden");
          document.getElementById("planSelection").classList.remove("hidden");

          // Update step indicator
          document.getElementById("stepInfo").classList.remove("active");
          document.getElementById("stepPlan").classList.add("active");

          window.scrollTo({ top: 0, behavior: "smooth" });
        });

      // Change plan button
      document
        .getElementById("changePlan")
        .addEventListener("click", function (e) {
          e.preventDefault();
          document.getElementById("backToPlan").click();
        });

      // Form submission
      document
        .getElementById("registrationFormElement")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          // Validate passwords match
          const password = document.getElementById("password").value;
          const confirmPassword =
            document.getElementById("confirmPassword").value;

          if (password !== confirmPassword) {
            alert("Las contrase√±as no coinciden");
            return;
          }

          // Collect form data
          const formData = {
            storeName: document.getElementById("storeName").value,
            fullName: document.getElementById("fullName").value,
            email: document.getElementById("email").value,
            phone: document.getElementById("phone").value,
            country: document.getElementById("country").value,
            password: password,
            plan: selectedPlan,
          };

          try {
            // Submit to API
            const response = await fetch("/api/auth/register", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(formData),
            });

            const data = await response.json();

            if (response.ok) {
              alert("¬°Cuenta creada exitosamente!");

              // Redirect based on plan
              if (selectedPlan === "gratis") {
                window.location.href = "/dashboard";
              } else {
                // Redirect to Mercado Pago for payment
                window.location.href = data.paymentUrl || "/dashboard";
              }
            } else {
              alert(data.message || "Error al crear la cuenta");
            }
          } catch (error) {
            console.error("Error:", error);
            alert("Error al conectar con el servidor");
          }
        });

      // Phone number formatting
      document.getElementById("phone").addEventListener("input", function (e) {
        let value = e.target.value.replace(/\D/g, "");
        if (value.length > 0) {
          if (!value.startsWith("54")) {
            value = "54" + value;
          }
        }
        e.target.value = value;
      });
    </script>
  </body>
</html>
